System.register(["./router","./collections"],function(){"use strict";var t,n,o;return{setters:[function(n){t=n["default"]},function(t){n=t["default"]}],execute:function(){o=function(){var o=function(){window.socket=io(),window.chatRooms=new n,$.ajax({url:"http://localhost:8000/randomname",async:!1,success:function(t){window.username=t.firstname}}),window.socket.on("updateData",function(){window.chatRooms.fetch({data:{sort:"_id"}})}),window.chatRooms.fetch({data:{sort:"_id"}}).done(function(){new t,Backbone.history.start()})};return $traceurRuntime.createClass(o,{},{})}(),$(function(){new o})}}});